!function(t){var s=function(s){for(var a in s)this[a]=s[a];t(this.row).length>0&&this.init()};s.prototype={progress:1,delay:2e3,stats:[],init:function(){var t=this;t.call()},set_progress:function(s){s="undefined"==typeof s?function(){}:s;var a=this;t(a.status_num).text(a.progress+"%"+(100!=a.progress?" ("+a.stats.num+" of "+a.stats.total+")":"")),a.set_progress_bar(s)},set_progress_bar:function(s){var a=this,n=100==a.progress?200:a.delay;t(a.status_bar).finish().animate({width:a.progress+"%"},n,function(){s()})},fail:function(){var t=this;setTimeout(function(){t.call()},t.delay)},success:function(){var s=this;s.progress=100;var a=function(){setTimeout(function(){t(s.row).fadeOut(200)},1e3)};s.set_progress(a)},call:function(){var s=this;t.ajax({url:ajax_data.status_url,data:{stats:!0},success:function(t){var a=JSON.parse(t);for(var n in a)s.stats[n]=a[n]?a[n]:0;s.progress=Math.round(100*s.stats.num/s.stats.total*10)/10,s.set_progress(),0!=s.stats.total?s.fail():s.success()}})}},t(document).ready(function(){new s({row:".haystack_stats_row",status_bar:".haystack_status_inner",status_num:".haystack_status_num"});"default"!=t('input[name="suggest_menu"]:checked').val()&&t("#quick_links_text_row").hide(),t('input[name="suggest_menu"]').click(function(s){"default"==t(this).val()?t("#quick_links_text_row").slideDown():t("#quick_links_text_row").slideUp()}),t('input[name="branding_color"]').wpColorPicker()})}(jQuery);